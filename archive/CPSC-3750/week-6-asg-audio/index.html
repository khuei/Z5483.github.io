<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html lang="en">
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
    }
    audio {
        margin-top: 20px;
    }
    button {
        font-size: 16px;
        padding: 10px 20px;
        margin: 10px;
        cursor: pointer;
    }
</style>
<head>
    <link rel="stylesheet" href="/style/archive.css">
    <link rel="stylesheet" href="/style/header.css">
    <title>Audio Player</title>
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
</head>
<body style ="font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 0;">
    <header>
    </header>
    <script>
      $(document).ready(function() {
        $("header").load("/header.html");
      });
    </script>
    <h1>Audio Player</h1>
    <audio id="myAudio" controls>
        <source src="goofyrun.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <br>
    <button id="loadButton" style = "font-weight: bold; color: #007BFF;">Load Audio</button>
    <button id="playButton" style = "font-weight: bold; color: #007BFF;">Play</button>
    <button id="pauseButton" style = "font-weight: bold; color: #007BFF;">Pause</button>
    <button id="autoplayButton" style = "font-weight: bold; color: #007BFF;">Autoplay: Off</button>
    <button id="loopButton" style = "font-weight: bold; color: #007BFF;">Loop: Off</button>
    <br>
    <p>Duration: <span id="duration"></span> seconds</p>
    <p>Playback Ended: <span id="endedStatus"></span></p>
    <p>Played: <span id="played"></span></p>

    <script>
        const audio = document.getElementById('myAudio');
        const loadButton = document.getElementById('loadButton');
        const playButton = document.getElementById('playButton');
        const pauseButton = document.getElementById('pauseButton');
        const autoplayButton = document.getElementById('autoplayButton');
        const loopButton = document.getElementById('loopButton');
        const durationSpan = document.getElementById('duration');
        const endedStatusSpan = document.getElementById('endedStatus');
        const playedSpan = document.getElementById('played');

        loadButton.addEventListener('click', () => {
            audio.load();
        });

        playButton.addEventListener('click', () => {
            audio.play();
        });

        pauseButton.addEventListener('click', () => {
            audio.pause();
        });

        autoplayButton.addEventListener('click', () => {
            audio.autoplay = !audio.autoplay;
            autoplayButton.textContent = audio.autoplay ? 'Autoplay: On' : 'Autoplay: Off';
        });

        loopButton.addEventListener('click', () => {
            audio.loop = !audio.loop;
            loopButton.textContent = audio.loop ? 'Loop: On' : 'Loop: Off';
        });

        audio.addEventListener('durationchange', () => {
            durationSpan.textContent = audio.duration.toFixed(2);
        });

        audio.addEventListener('ended', () => {
            endedStatusSpan.textContent = 'Yes';
        });

        audio.addEventListener('timeupdate', () => {
            const playedTime = audio.played.end(0);
            playedSpan.textContent = playedTime.toFixed(2) + 's';
        });
    </script>
</body>
</html>
