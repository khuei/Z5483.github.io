<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<style>
body {
  margin: 0;
  padding: 0;
  background: #fff5d7;
  min-height: 100vh;
  min-height: 100dvh;
}

#content {
  display: flex;
  flex-direction: row;
  min-height: 75vh;
  min-height: 75dvh;
  justify-content: center;
  margin: 4vh 2vw 4vh 2vw;
  gap: 5vh;
}

.button {
  display: block;
  height: 40vh;
  width: 30vh;
  justify-content: center;
  text-align: center;
  color: white;
  background-color: black;
}

.color-label {
  font-size: 1.5em;
  font-style: bold;
  margin-top: auto;
  margin-bottom: auto;
}

.count-label {
  font-size: 1.0em;
}

.btn-count {
  font-size: 1.2em;
}

.change-count {
  font-size: 1.2em;
  margin-bottom: 2vh;
}
</style>
<html lang="en">
  <head>
    <link rel="stylesheet" href="/style/archive.css">
    <link rel="stylesheet" href="/style/header.css">
    <title>Javascript Event â€” khuen</title>
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
  </head>
  <body>
    <header></header>
    <script>
      $(document).ready(function() {
        $("header").load("/header.html");
      });
    </script>
    <center>
      <h1>Javascript Events</h1>
    </center>
    <section id="content">
      <button class="button" id="red-btn">
        <span class="color-label">Red</span>
        <br><br>
        <span class="count-label">RED count: </span>
        <br>
        <span class="btn-count" id="red-btn-count"></span>
        <br>
        <span class="count-label">RED change count: </span>
        <br>
        <span class="change-count" id="red-change-count"></span>
      </button>
      <button class="button" id="blue-btn">
        <span class="color-label">Blue</span>
        <br><br>
        <span class="count-label">BLUE count: </span>
        <br>
        <span class="btn-count" id="blue-btn-count"></span>
        <br>
        <span class="count-label">BLUE change count: </span>
        <br>
        <span class="change-count" id="blue-change-count"></span>
      </button>
      <button class="button" id="green-btn">
        <span class="color-label">Green</span>
        <br><br>
        <span class="count-label">GREEN count: </span>
        <br>
        <span class="btn-count" id="green-btn-count"></span>
        <br>
        <span class="count-label">GREEN change count: </span>
        <br>
        <span class="change-count" id="green-change-count"></span>
      </button>
    </section>
    <script>
      let red_btn_count = 0;
      let blue_btn_count = 0;
      let green_btn_count = 0;

      let red_change_count = 0;
      let blue_change_count = 0;
      let green_change_count = 0;

      let last_color = "";

      const red_color = "IndianRed";
      const blue_color = "SteelBlue";
      const green_color = "YellowGreen";

      document.getElementById("red-btn-count").textContent = red_btn_count;
      document.getElementById("green-btn-count").textContent = green_btn_count;
      document.getElementById("blue-btn-count").textContent = blue_btn_count;

      document.getElementById("red-change-count").textContent = red_change_count;
      document.getElementById("green-change-count").textContent = green_change_count;
      document.getElementById("blue-change-count").textContent = blue_change_count;

      function changeBackground(color) {
        document.body.style.background = color;

        if (color == red_color) {
          red_btn_count += 1;
        } else if (color == blue_color) {
          blue_btn_count += 1;
        } else if (color == green_color) {
          green_btn_count += 1;
        }

        console.log(last_color != color);

        if (last_color != color) {
          if (color == red_color) {
            red_change_count += 1;
          } else if (color == blue_color) {
            blue_change_count += 1;
          } else if (color == green_color) {
            green_change_count += 1;
          }
        }

        last_color = color;
      }

      document.getElementById("red-btn").addEventListener(
        "click",
        function() {
          changeBackground(red_color)
          document.getElementById("red-btn-count").textContent = red_btn_count;
          document.getElementById("red-change-count").textContent = red_change_count;
        }
      );

      document.getElementById("blue-btn").addEventListener(
        "click",
        function() {
          changeBackground(blue_color)
          document.getElementById("blue-btn-count").textContent = blue_btn_count;
          document.getElementById("blue-change-count").textContent = blue_change_count;
        }
      );

      document.getElementById("green-btn").addEventListener(
        "click",
        function() {
          changeBackground(green_color)
          document.getElementById("green-btn-count").textContent = green_btn_count;
          document.getElementById("green-change-count").textContent = green_change_count;
        }
      );

      function highlightHoveredBtn(objectID) {
        document.getElementById(objectID).style.color = 'black';
        document.getElementById(objectID).style.backgroundColor = 'white';
      }

      function unhighlightHoveredBtn(objectID) {
        document.getElementById(objectID).style.color = 'white';
        document.getElementById(objectID).style.backgroundColor = 'black';
      }


      document.getElementById("red-btn").addEventListener(
        "mouseover",
        function() {
          highlightHoveredBtn("red-btn");
        }
      );

      document.getElementById("blue-btn").addEventListener(
        "mouseover",
        function() {
          highlightHoveredBtn("blue-btn");
        }
      );

      document.getElementById("green-btn").addEventListener(
        "mouseover",
        function() {
          highlightHoveredBtn("green-btn");
        }
      );

      document.getElementById("red-btn").addEventListener(
        "mouseleave",
        function() {
          unhighlightHoveredBtn("red-btn");
        }
      );

      document.getElementById("blue-btn").addEventListener(
        "mouseleave",
        function() {
          unhighlightHoveredBtn("blue-btn");
        }
      );

      document.getElementById("green-btn").addEventListener(
        "mouseleave",
        function() {
          unhighlightHoveredBtn("green-btn");
        }
      );
    </script>
  </body>
</html>
